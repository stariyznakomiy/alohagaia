.products-list {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-column-gap: rem(8);
  grid-row-gap: rem(16);
  @media (max-width: $tablet2) {
    grid-template-columns: calc(50% - 4px) calc(50% - 4px);
    grid-row-gap: rem(24);
  }
  @media (max-width: $mobileSmall) {
    grid-row-gap: rem(20);
  }
  // .products-list__item
  &__item {
    @media (min-width: $tablet2) {
      &:nth-child(9),
      &:nth-child(9n + 10),
      &:nth-child(10n + 10) {
        grid-column: span 2;
        @media (any-hover: hover) {
          &:hover {
            &::before {
              opacity: 0;
            }
            .products-item__img {
              img {
                &:first-child {
                  opacity: 1;
                }
                &:last-child {
                  opacity: 0;
                }
              }
            }
            .products-item__badge {
              color: $dark-50;
              &-new,
              &-preorder {
                color: $blue;
              }
            }
            .products-item__action {
              &-whishlist {
                @media (any-hover: hover) {
                  &:hover {
                    path {
                      fill: $dark;
                    }
                  }
                }
                &._active {
                  path {
                    fill: $red;
                    stroke: $red;
                  }
                }
              }
              &-addcart {
                @media (any-hover: hover) {
                  &:hover {
                    path {
                      &:first-child {
                        fill: $dark;
                      }
                    }
                  }
                }
                &._active {
                  path {
                    &:first-child {
                      fill: $dark;
                    }
                  }
                }
                path {
                  stroke: $dark;
                }
              }
              path {
                stroke: $dark;
              }
              svg {
                fill: transparent;
              }
            }
            .products-item__info {
              background-color: transparent;
            }
          }
        }
        &::before {
          opacity: 0.55;
        }
        .products-item__img {
          img {
            &:first-child {
              opacity: 0;
            }
            &:last-child {
              opacity: 1;
            }
          }
        }
        .products-item__badge {
          color: $white;
        }
        .products-item__action {
          &-whishlist {
            &._active {
              path {
                fill: $white;
              }
            }
          }
          &-addcart {
            &._active {
              path {
                &:first-child {
                  fill: $white;
                }
              }
            }
          }
          path {
            stroke: $white;
          }
        }
        .products-item__info {
          background-color: $white;
        }
      }
    }
    @media (max-width: $tablet2) {
      &:nth-child(5),
      &:nth-child(5n + 10) {
        grid-column: span 2;
        @media (any-hover: hover) {
          &:hover {
            &::before {
              opacity: 0;
            }
            .products-item__img {
              img {
                &:first-child {
                  opacity: 1;
                }
                &:last-child {
                  opacity: 0;
                }
              }
            }
            .products-item__badge {
              color: $dark-50;
              &-new,
              &-preorder {
                color: $blue;
              }
            }
            .products-item__action {
              &-whishlist {
                @media (any-hover: hover) {
                  &:hover {
                    path {
                      fill: $dark;
                    }
                  }
                }
                &._active {
                  path {
                    fill: $red;
                    stroke: $red;
                  }
                }
              }
              &-addcart {
                @media (any-hover: hover) {
                  &:hover {
                    path {
                      &:first-child {
                        fill: $dark;
                      }
                    }
                  }
                }
                &._active {
                  path {
                    &:first-child {
                      fill: $dark;
                    }
                  }
                }
                path {
                  stroke: $dark;
                }
              }
              path {
                stroke: $dark;
              }
              svg {
                fill: transparent;
              }
            }
            .products-item__info {
              background-color: transparent;
            }
          }
        }
        &::before {
          opacity: 0.55;
        }
        .products-item__img {
          img {
            &:first-child {
              opacity: 0;
            }
            &:last-child {
              opacity: 1;
            }
          }
        }
        .products-item__badge {
          color: $white;
        }
        .products-item__action {
          &-whishlist {
            &._active {
              path {
                fill: $white;
              }
            }
          }
          &-addcart {
            &._active {
              path {
                &:first-child {
                  fill: $white;
                }
              }
            }
          }
          path {
            stroke: $white;
          }
        }
        .products-item__info {
          background-color: $white;
        }
      }
    }
  }
}

.search-products-list {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-column-gap: rem(8);
  grid-row-gap: rem(16);
  @media (max-width: $tablet2) {
    grid-template-columns: calc(50% - 4px) calc(50% - 4px);
    grid-row-gap: rem(24);
  }
  @media (max-width: $mobileSmall) {
    grid-row-gap: rem(20);
  }
  // .search-products-list__item
  &__item {
  }
}

.whishlist-products-list {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-column-gap: rem(8);
  grid-row-gap: rem(16);
  @media (max-width: $tablet2) {
    grid-template-columns: calc(50% - 4px) calc(50% - 4px);
    grid-row-gap: rem(24);
  }
  @media (max-width: $mobileSmall) {
    grid-row-gap: rem(20);
  }
  // .whishlist-products-list__item
  &__item {
  }
}

// products-item ========================================================================================================================================================

.products-item {
  position: relative;
  z-index: 10;
  border-radius: rem(8);
  &::before {
    content: '';
    position: absolute;
    z-index: 1;
    top: 0;
    left: 0;
    width: 100%;
    height: 15%;
    border-radius: rem(8) rem(8) 0 0;
    background: linear-gradient(180deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 100%);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.5s ease 0s;
  }
  &:nth-child(odd) {
    .products-item__size {
      @media (max-width: $mobileSmall) {
        left: 0;
        right: auto;
        // transform: translateX(calc(50% - rem(-4)));
      }
    }
  }
  @media (any-hover: hover) {
    &:hover {
      &::before {
        opacity: 0.55;
      }
      .products-item__img {
        img {
          &:last-child {
            opacity: 1;
          }
        }
      }
      .products-item__badge {
        color: $white;
      }
      .products-item__action {
        &-whishlist {
          @media (any-hover: hover) {
            &:hover {
              path {
                fill: $white;
              }
            }
          }
          &._active {
            path {
              fill: $white;
            }
          }
        }
        &-addcart {
          @media (any-hover: hover) {
            &:hover {
              path {
                &:first-child {
                  fill: $white;
                }
              }
            }
          }
          &._active {
            path {
              &:first-child {
                fill: $white;
              }
            }
          }
        }
        path {
          stroke: $white;
        }
      }
      .products-item__info {
        background-color: $white;
      }
    }
  }
  @media (max-width: $tablet2) {
    display: flex;
    flex-direction: column;
  }
  // .products-item__img
  &__img {
    position: relative;
    display: block;
    border-radius: rem(8);
    padding-bottom: percent(480, 382);
    background-color: $light-gray;
    overflow: hidden;
    -webkit-mask-image: -webkit-radial-gradient(white, black);
    &:not(:last-child) {
      @media (max-width: $tablet2) {
        margin-bottom: rem(8);
      }
      @media (max-width: $mobileSmall) {
        margin-bottom: rem(4);
      }
    }
    &::before {
      content: '';
      position: absolute;
      z-index: 3;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      &:first-child {
        object-fit: contain;
        object-position: center;
        mix-blend-mode: darken;
        transition: opacity 0.5s ease 0s;
      }
      &:last-child {
        opacity: 0;
        object-fit: cover;
        transition: opacity 0.5s ease 0s;
      }
    }
  }
  // .products-item__badges
  &__badges {
    position: absolute;
    z-index: 2;
    top: rem(12);
    left: rem(16);
    @media (max-width: $tablet2) {
      top: rem(8);
      left: rem(8);
    }
    @media (max-width: $mobileSmall) {
      top: rem(4);
      left: rem(4);
    }
  }
  // .products-item__badge
  &__badge {
    line-height: math.div(19, 15);
    color: $dark-50;
    transition: color 0.5s ease 0s;
    &-new,
    &-preorder {
      color: $blue;
    }
    @media (max-width: $tablet2) {
      font-size: rem(13);
      line-height: math.div(15, 13);
    }
    @media (max-width: $mobileSmall) {
      font-size: rem(12);
      line-height: math.div(14, 12);
    }
  }
  // .products-item__actions
  &__actions {
    position: absolute;
    z-index: 3;
    top: rem(8);
    right: rem(4);
    @media (max-width: $mobileSmall) {
      top: rem(4);
      right: 0;
    }
  }
  // .products-item__action
  &__action {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: rem(4) rem(8);
    &-whishlist {
      &._active {
        path {
          fill: $red;
          stroke: $red;
        }
      }
    }
    &-addcart {
      &._active {
        path {
          &:first-child {
            fill: $dark;
          }
        }
      }
      path {
        &:first-child {
          fill: transparent;
        }
      }
    }
    svg {
      fill: transparent;
      @media (max-width: $tablet2) {
        width: rem(16);
        height: rem(16);
      }
      path {
        transition: 0.5s ease 0s;
        transition-property: stroke, fill;
      }
    }
  }
  // .products-item__info
  &__info {
    position: absolute;
    z-index: 2;
    bottom: rem(8);
    left: rem(8);
    padding: rem(8);
    border-radius: rem(4);
    background-color: transparent;
    transition: background-color 0.3s ease 0s;
    @media (max-width: $tablet2) {
      position: relative;
      bottom: 0;
      left: 0;
      padding: 0;
    }
  }
  // .products-item__title
  &__title {
    line-height: math.div(19, 15);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    &:not(:last-child) {
      margin-bottom: rem(2);
    }
  }
  // .products-item__descr
  &__descr {
    display: flex;
    align-items: center;
  }
  // .products-item__prices
  &__prices {
    flex: 0 0 auto;
    display: inline-flex;
    flex-wrap: wrap;
    align-items: baseline;
    &:not(:last-child) {
      margin-right: rem(8);
    }
  }
  // .products-item__price
  &__price {
    line-height: math.div(19, 15);
    &:not(:last-child) {
      margin-right: rem(8);
    }
  }
  // .products-item__price-new
  &__price-new {
    color: $red;
    font-weight: 500;
  }
  // .products-item__price-old
  &__price-old {
    color: $dark-50;
    font-size: rem(13);
    line-height: math.div(15, 13);
  }
  // .products-item__metals
  &__metals {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
  }
  // .products-item__metal
  &__metal {
    flex: 0 0 rem(9);
    width: rem(9);
    height: rem(9);
    border-radius: 50%;
    border: rem(1) solid;
    &:not(:last-child) {
      margin-right: rem(4);
    }
  }
  // .products-item__metal-silver
  &__metal-silver {
    border-color: $dark-25;
    background-color: $dark-25;
  }
  // .products-item__metal-gold
  &__metal-gold {
    border-color: $gold;
    background-color: $gold;
  }
  // .products-item__metal-whitegold
  &__metal-whitegold {
    border-color: $gold;
    background-color: $white;
  }
  // .products-item__size
  &__size {
    position: absolute;
    z-index: 5;
    overflow: hidden;
    top: rem(68);
    right: rem(4);
    width: calc(100% - rem(8));
    max-width: rem(340);
    padding: rem(16);
    border: rem(1) solid $border;
    border-radius: rem(8);
    background-color: $white;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease 0s;
    &._active {
      opacity: 1;
      pointer-events: all;
    }
    @media (max-width: $tablet2) {
      top: rem(60);
    }
    @media (max-width: $mobileSmall) {
      top: rem(56);
      right: 0;
      width: calc(100vw - rem(32));
      max-width: none;
    }
  }
  // .products-item__size-close
  &__size-close {
    position: absolute;
    top: 0;
    right: 0;
    width: rem(32);
    height: rem(32);
    display: flex;
    align-items: center;
    justify-content: center;
    color: $dark;
    transition: color 0.3s ease 0s;
    @media (any-hover: hover) {
      &:hover {
        color: $dark-hover;
      }
    }
    svg {
      fill: currentColor;
    }
  }
  // .products-item__size-capture
  &__size-capture {
    font-weight: 500;
    line-height: math.div(19, 15);
    &:not(:last-child) {
      margin-bottom: rem(8);
    }
  }
  // .products-item__size-list
  &__size-list {
    display: flex;
    flex-wrap: wrap;
    margin-left: rem(-4);
    margin-top: rem(-4);
    &:not(:last-child) {
      margin-bottom: rem(16);
    }
    & > * {
      margin-left: rem(4);
      margin-top: rem(4);
    }
  }
  // .products-item__size-item
  &__size-item {
    .option-checkbox__label {
      min-width: auto;
    }
  }
  // .products-item__list-item
  &__list-item {
  }
  // .products-item__size-action
  &__size-action {
    display: flex;
    align-items: center;
    line-height: math.div(19, 15);
    text-align: left;
    transition: color 0.3s ease 0s;
    @media (any-hover: hover) {
      &:hover {
        color: $blue-hover;
      }
    }
    svg {
      margin-left: rem(4);
    }
  }
}

// products-item-small ========================================================================================================================================================
.products-item-small {
  position: relative;
  border-radius: rem(8);
  width: rem(160);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  // .products-item-small__img
  &__img {
    position: relative;
    display: block;
    border-radius: rem(8);
    padding-bottom: percent(480, 382);
    background-color: $light-gray;
    overflow: hidden;
    &:not(:last-child) {
      margin-bottom: rem(8);
    }
    &::before {
      content: '';
      position: absolute;
      z-index: 3;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      mix-blend-mode: darken;
    }
  }
  // .products-item-small__actions
  &__actions {
    position: absolute;
    z-index: 3;
    top: rem(8);
    right: rem(4);
  }
  // .products-item-small__action
  &__action {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: rem(4) rem(8);
    &-whishlist {
      @media (any-hover: hover) {
        &:hover {
          path {
            fill: $dark;
            stroke: $dark;
          }
        }
      }
      &._active {
        path {
          fill: $red;
          stroke: $red;
        }
      }
    }
    &-addcart {
      @media (any-hover: hover) {
        &:hover {
          path {
            &:first-child {
              fill: $dark;
            }
          }
        }
      }
      &._active {
        path {
          &:first-child {
            fill: $dark;
          }
        }
      }
      path {
        &:first-child {
          fill: transparent;
        }
      }
    }
    svg {
      fill: transparent;
      width: rem(16);
      height: rem(16);
      path {
        transition: 0.5s ease 0s;
        transition-property: stroke, fill;
      }
    }
  }
  // .products-item-small__info
  &__info {
    position: relative;
    z-index: 2;
    border-radius: rem(4);
    background-color: transparent;
    transition: background-color 0.3s ease 0s;
  }
  // .products-item-small__title
  &__title {
    line-height: math.div(19, 15);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    &:not(:last-child) {
      margin-bottom: rem(2);
    }
  }
  // .products-item-small__descr
  &__descr {
    display: flex;
    align-items: center;
  }
  // .products-item-small__prices
  &__prices {
    flex: 0 0 auto;
    display: inline-flex;
    flex-wrap: wrap;
    align-items: baseline;
    &:not(:last-child) {
      margin-right: rem(8);
    }
  }
  // .products-item-small__price
  &__price {
    line-height: math.div(19, 15);
    &:not(:last-child) {
      margin-right: rem(8);
    }
  }
  // .products-item-small__price-new
  &__price-new {
    color: $red;
    font-weight: 500;
  }
  // .products-item-small__price-old
  &__price-old {
    color: $dark-50;
    font-size: rem(13);
    line-height: math.div(15, 13);
  }
  // .products-item-small__metals
  &__metals {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
  }
  // .products-item-small__metal
  &__metal {
    flex: 0 0 rem(9);
    width: rem(9);
    height: rem(9);
    border-radius: 50%;
    border: rem(1) solid;
    &:not(:last-child) {
      margin-right: rem(4);
    }
  }
  // .products-item-small__metal-silver
  &__metal-silver {
    border-color: $dark-25;
    background-color: $dark-25;
  }
  // .products-item-small__metal-gold
  &__metal-gold {
    border-color: $gold;
    background-color: $gold;
  }
  // .products-item-small__metal-whitegold
  &__metal-whitegold {
    border-color: $gold;
    background-color: $white;
  }
}
